<app-header tabName="Cart"></app-header>

<ion-content>
  <ion-grid fixed="true">


    <ion-item *ngIf="books.length < 1" class="divider-large"></ion-item>
    <ion-item *ngIf="books.length < 1" class="divider-large"></ion-item>
    <ion-row *ngIf="books.length < 1">
      <ion-col>
        <ion-title class="ion-text-center box">Your cart is empty :(</ion-title>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="books.length < 1">
      <ion-col>
        <ion-img src="../../../assets/images/empty-box.png" class="box box-img"></ion-img>
      </ion-col>
    </ion-row>

    <ion-row *ngFor="let book of books">
      <ion-col>
        <ion-card>
          <app-book-item style="width: 90%" [isCard]='false' [book]="book">
          </app-book-item>
          <ion-item class="divider-tiny"></ion-item>
          <ion-button color="danger" shape="round" (click)="deleteFromInventory(book._id)">
            <ion-icon name="close-outline"></ion-icon>
          </ion-button>
          <ion-item class="divider-tiny"></ion-item>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<ion-footer class="ion-no-border" *ngIf="books.length > 0">
  <ion-toolbar>
    <ion-item class="divider-tiny"></ion-item>
    <ion-row>
      <ion-col>
        <ion-title>Proceed to Buy</ion-title>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-input placeholder="You can also insert a coupon" [ngModel]="cartCoupon"></ion-input>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-button (click)="buy()" size="large" mode="ios" expand="full" color="warning" shape="round">
        <ion-icon size="large" name="cash-outline"></ion-icon>
        <ion-col>
          <ion-text class="ion-text-center">{{getTotal()}} â‚¬</ion-text>
        </ion-col>

      </ion-button>
    </ion-row>
    <ion-item class="divider-tiny"></ion-item>
  </ion-toolbar>
</ion-footer>